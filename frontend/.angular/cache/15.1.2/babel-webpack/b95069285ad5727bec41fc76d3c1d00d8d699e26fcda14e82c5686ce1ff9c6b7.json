{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { FormControl, FormGroup } from '@angular/forms';\nimport { Observable } from 'rxjs';\nlet BookComponent = class BookComponent {\n  constructor(bookService, cabTypeservice, router) {\n    this.bookService = bookService;\n    this.cabTypeservice = cabTypeservice;\n    this.router = router;\n    this.cabTypeObservable = new Observable();\n    this.bookingRef = new FormGroup({\n      bookingId: new FormControl(),\n      bookingDistance: new FormControl(),\n      bookingDate: new FormControl(),\n      bookingTime: new FormControl(),\n      cabTypeId: new FormControl()\n    });\n  }\n  compareByCabId(cab1, cab2) {\n    return cab1 && cab2 && cab1.cabTypeId === cab2.cabTypeId;\n  }\n  onSelectOption(category) {\n    // this.productForm.patchValue({\n    //   category: this.categories.find(x => x.categoryId === category.categoryId)\n    // })\n  }\n  storeBooking() {\n    let booking = this.bookingRef.value;\n    console.log(booking);\n    this.bookService.storeBooking(booking).subscribe({\n      next: result => console.log(result),\n      error: error => console.log(error),\n      complete: () => console.log(\"Stored\")\n    });\n    this.router.navigate(['/fare', booking.bookingId]);\n  }\n  ngOnInit() {\n    this.cabTypeObservable = this.cabTypeservice.getTypes();\n  }\n};\nBookComponent = __decorate([Component({\n  selector: 'app-book',\n  templateUrl: './book.component.html',\n  styleUrls: ['./book.component.css']\n})], BookComponent);\nexport { BookComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AACjD,SAAUC,WAAW,EAAEC,SAAS,QAAQ,gBAAgB;AAExD,SAASC,UAAU,QAAQ,MAAM;AAU1B,IAAMC,aAAa,GAAnB,MAAMA,aAAa;EAKxBC,YAAmBC,WAAuB,EACvBC,cAA+B,EAC9BC,MAAc;IAFf,gBAAW,GAAXF,WAAW;IACX,mBAAc,GAAdC,cAAc;IACb,WAAM,GAANC,MAAM;IAJnB,sBAAiB,GAAsB,IAAIL,UAAU,EAAE;IAkB9D,eAAU,GAAG,IAAID,SAAS,CAAC;MACzBO,SAAS,EAAC,IAAIR,WAAW,EAAE;MAC3BS,eAAe,EAAC,IAAIT,WAAW,EAAE;MACjCU,WAAW,EAAC,IAAIV,WAAW,EAAE;MAC7BW,WAAW,EAAE,IAAIX,WAAW,EAAE;MAC9BY,SAAS,EAAE,IAAIZ,WAAW;KAC3B,CAAC;EAlBF;EAEAa,cAAc,CAACC,IAAa,EAAEC,IAAa;IACzC,OAAOD,IAAI,IAAIC,IAAI,IAAID,IAAI,CAACF,SAAS,KAAKG,IAAI,CAACH,SAAS;EAC1D;EAEAI,cAAc,CAACC,QAAqC;IAClD;IACA;IACA;EAAA;EAWFC,YAAY;IACV,IAAIC,OAAO,GAAG,IAAI,CAACC,UAAU,CAACC,KAAK;IACnCC,OAAO,CAACC,GAAG,CAACJ,OAAO,CAAC;IACpB,IAAI,CAACd,WAAW,CAACa,YAAY,CAACC,OAAO,CAAC,CAACK,SAAS,CAAC;MAC/CC,IAAI,EAAEC,MAAU,IAAGJ,OAAO,CAACC,GAAG,CAACG,MAAM,CAAC;MACtCC,KAAK,EAAEA,KAAS,IAAGL,OAAO,CAACC,GAAG,CAACI,KAAK,CAAC;MACrCC,QAAQ,EAAC,MAAIN,OAAO,CAACC,GAAG,CAAC,QAAQ;KAClC,CAAC;IACF,IAAI,CAAChB,MAAM,CAACsB,QAAQ,CAAC,CAAC,OAAO,EAACV,OAAO,CAACX,SAAS,CAAC,CAAC;EACnD;EAEAsB,QAAQ;IACN,IAAI,CAACC,iBAAiB,GAAG,IAAI,CAACzB,cAAc,CAAC0B,QAAQ,EAAE;EACzD;CAGD;AA7CY7B,aAAa,eALzBJ,SAAS,CAAC;EACTkC,QAAQ,EAAE,UAAU;EACpBC,WAAW,EAAE,uBAAuB;EACpCC,SAAS,EAAE,CAAC,sBAAsB;CACnC,CAAC,GACWhC,aAAa,CA6CzB;SA7CYA,aAAa","names":["Component","FormControl","FormGroup","Observable","BookComponent","constructor","bookService","cabTypeservice","router","bookingId","bookingDistance","bookingDate","bookingTime","cabTypeId","compareByCabId","cab1","cab2","onSelectOption","category","storeBooking","booking","bookingRef","value","console","log","subscribe","next","result","error","complete","navigate","ngOnInit","cabTypeObservable","getTypes","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\Hayk Chilingaryan\\Desktop\\CaltechProject\\frontend\\src\\app\\components\\book\\book.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport {  FormControl, FormGroup } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { Cabtype } from 'src/app/classes/cabtype';\nimport { BookService } from 'src/app/services/book.service';\nimport { CabTypesService } from 'src/app/services/cab-types.service';\n\n@Component({\n  selector: 'app-book',\n  templateUrl: './book.component.html',\n  styleUrls: ['./book.component.css']\n})\nexport class BookComponent implements OnInit{\n  \n\n  public cabTypeObservable: Observable<any[]> = new Observable();\n\n  constructor(public bookService:BookService,\n              public cabTypeservice: CabTypesService,\n              private router: Router){\n\n  }\n\n  compareByCabId(cab1: Cabtype, cab2: Cabtype) {\n    return cab1 && cab2 && cab1.cabTypeId === cab2.cabTypeId;\n  }\n\n  onSelectOption(category: Cabtype | Event | undefined) {\n    // this.productForm.patchValue({\n    //   category: this.categories.find(x => x.categoryId === category.categoryId)\n    // })\n  }\n\n  bookingRef = new FormGroup({\n    bookingId:new FormControl(),\n    bookingDistance:new FormControl(),\n    bookingDate:new FormControl(),\n    bookingTime: new FormControl(),\n    cabTypeId: new FormControl()\n  });\n\n  storeBooking() {\n    let booking = this.bookingRef.value;\n    console.log(booking);\n    this.bookService.storeBooking(booking).subscribe({\n      next:(result:any)=>console.log(result),\n      error:(error:any)=>console.log(error),\n      complete:()=>console.log(\"Stored\")\n    })\n    this.router.navigate(['/fare',booking.bookingId]);\n  }\n\n  ngOnInit(): void {\n    this.cabTypeObservable = this.cabTypeservice.getTypes();\n  }\n\n   \n}\n\nexport interface Booking {\n  bookingId?: string;\n  bookingDistance?: number;\n  bookingDate?: string;\n  bookingTime?: number;\n  bookingFare?: number;\n  cabTypeId?:number;\n}\n\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}